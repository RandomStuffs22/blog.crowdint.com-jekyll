<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Crowd Interactive Tech Blog :: Blog</title>
  <link rel="stylesheet" href="/stylesheets/screen.css?853991" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="/stylesheets/print.css" type="text/css" media="print" />
  <link rel="stylesheet" href="/stylesheets/styles.css?853991" type="text/css" media="screen" />
  <link rel="stylesheet" href="/stylesheets/skribit.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" media="screen" />
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for blog.crowdint.com" href="http://feeds.feedburner.com/CrowdInteractiveTechBlog" />
  <link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
  <!--[if lt IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
    <script type="text/javascript">
      var _gaq = _gaq || [];

      _gaq.push(['_setAccount', 'UA-17527068-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</head>
<body>
  <div class="container">
    <div id="empty-header">
      <a href="/" id="home-link"><img src="/images/logo_03.png" id="logoHead" width="227" height="74" alt="LogoHead" onclick="_gaq.push(['_trackEvent', 'header', 'logo']);"/></a>
      <ul id="navMenu">
        <li><a href="http://www.crowdint.com/" onclick="_gaq.push(['_trackEvent', 'header', 'home']);"><span>HOME</span></a></li>
        <li><a href="http://www.crowdint.com/projects" onclick="_gaq.push(['_trackEvent', 'header', 'projects']);"><span>PROJECTS</span></a></li>
        <li><a href="http://www.crowdint.com/services" onclick="_gaq.push(['_trackEvent', 'header', 'services']);"><span>SERVICES</span></a></li>
        <li class="selected"><span>BLOG</span></li>
        <li><a href="http://www.crowdint.com/about_us" onclick="_gaq.push(['_trackEvent', 'header', 'about_us']);"><span>ABOUT</span></a></li>
        <li><a href="http://www.crowdint.com/" onclick="_gaq.push(['_trackEvent', 'header', 'contact']);"><span>CONTACT</span></a></li>
      </ul>
    </div>
    <div class="span-24 append-bottom testGlow">
      <div class="round-top span-24">
        &nbsp;
      </div>
      <div id="white-body" class="span-24">
        <div class="left-side span-17">
          
<div class="post prepend-1">
  <h1><a href="/2010/07/18/setting-up-automation-with-cucumber-rspec-autotest.html">Setting up Automation with Cucumber, RSpec, Autotest in RoR 2.3.8</a></h1>
  <p class="author">
    <span class="date"><b>Jul 18</b><br />2010</span>
  </p>
  <div class="body prepend-1 append-1">
    <div class="gravatar span-3"><img src="http://www.gravatar.com/avatar/56839e737258faa963847dd7269a8059" class="avatar" alt="Avatar" /></div>
    <div id='main'>
    
    
    
    
      
        <p>Nowadays, one of the best practices to develop your web applications involves Behavior Driven Development or BDD, as it is also known.</p>

<p>Specifically talking about Ruby on Rails, the best tool to accomplish this is definitively Cucumber for describing your features and RSpec for your unit tests, and I'd like to talk a little more, about how to set them up, so you'll be able to start using them as the very handy tool they are.</p>

<h2>Installing RSpec, RSpec-Rails, Cucumber, Cucumber-Rails</h2>

<p>First of all, you need to install the cucumber and RSpec gems, (you may need to add a sudo prefix to your commands according to your system), so open up a shell and type:</p>

<div class="highlight"><pre><code class="bash">gem install rspec-rails
</code></pre>
</div>


<p>You can type <em>spec --help</em> to see the options available to use with rspec. Now, every time you want to run your rspec tests run the command:</p>

<div class="highlight"><pre><code class="bash">spec spec/
</code></pre>
</div>


<p>It's time to install cucumber gem like this:</p>

<div class="highlight"><pre><code class="bash">gem install cucumber-rails
</code></pre>
</div>


<p>It may ask you for gherkin gem in order to install cucumber, so don't forget to install it too:</p>

<div class="highlight"><pre><code class="bash">gem install gherkin
</code></pre>
</div>


<p>After that, try to install cucumber gem again, and if there is no problem, you may see cucumber help:</p>

<div class="highlight"><pre><code class="bash">cucumber --help
</code></pre>
</div>


<p>In order to run your cucumber scenarios, you use this command:</p>

<div class="highlight"><pre><code class="bash">cucumber features/
</code></pre>
</div>


<p>Just as a note here, when you write your features and describe your steps for a web application it is a handy to make use of the webrat gem which includes some useful steps:</p>

<div class="highlight"><pre><code class="bash">gem install webrat
</code></pre>
</div>


<h2>Installing ZenTest, Autotest-Rails y Autotest-Growl</h2>

<p>At this point we are ready to start writing our features, but before we do that, we want to go a little bit further and install autotest, which will allow us to write our features and rspec scenarios while autotest will handle to run tests every time it detects a change in our code, really cool eh?</p>

<p>We need to include gemcutter as a repository in case we don't have it already:</p>

<div class="highlight"><pre><code class="bash">gem sources -add http://gemcutter.org
</code></pre>
</div>


<p>After that we go for the Gems we need for autotest:</p>

<div class="highlight"><pre><code class="bash">gem install autotest-rails
</code></pre>
</div>


<p>You may need to install before ZenTest, in case autotest didn't do it previously:</p>

<div class="highlight"><pre><code class="bash">gem install ZenTest
</code></pre>
</div>


<p>And for MacOS users we can even "beautify" it a more using Growl to show us notifications about the status of our tests. So let's keep going.</p>

<p>In order to do that, now you have to install the autotest/growl gem:</p>

<div class="highlight"><pre><code class="bash">gem install autotest-growl
</code></pre>
</div>


<p>Now create a  file ~/.autotest where you need to require it:</p>

<div class="highlight"><pre><code class="ruby"> 
<span class="nb">require</span> <span class="s1">&#39;autotest/growl&#39;</span>
</code></pre>
</div>


<p>Once you have written  your features, and rspec tests, you can use autospec for rspec and it will be waiting for you to make changes and rerun automatically your tests every time, you just have to use this command:</p>

<div class="highlight"><pre><code class="bash">autospec
</code></pre>
</div>


<p>And you can do so to include cucumber scenarios in you autotest:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">AUTOFEATURE</span><span class="o">=</span><span class="nb">true </span>autospec
</code></pre>
</div>


<p>You'll be getting a nice Growl notification every time you change your code and you can be aware of the status of your tests at any time.</p>

<p>In the case you include cucumber, it may be running the tests indefinitely which can be  a little bit annoying, also could be a memory hazard, so I encourage you to add a new file .autotest in your application root directory and write this:</p>

<div class="highlight"><pre><code class="ruby"><span class="no">Autotest</span><span class="o">.</span><span class="n">add_hook</span><span class="p">(</span><span class="ss">:initialize</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">at</span><span class="o">|</span>
    <span class="n">at</span><span class="o">.</span><span class="n">add_exception</span> <span class="sr">%r{^\.git}</span>  <span class="c1"># ignore Version Control System</span>
     <span class="n">at</span><span class="o">.</span><span class="n">add_exception</span> <span class="sr">%r{^./tmp}</span>  <span class="c1"># ignore temp files, lest autotest will run again, and again...</span>
     <span class="n">at</span><span class="o">.</span><span class="n">add_exception</span> <span class="s2">&quot;rerun.txt&quot;</span>
     <span class="n">at</span><span class="o">.</span><span class="n">add_mapping</span><span class="p">(</span><span class="sr">%r{^lib/.*\.rb$}</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="p">,</span> <span class="n">_</span><span class="o">|</span>
          <span class="no">Dir</span><span class="o">[</span><span class="s1">&#39;spec/**/*.rb&#39;</span><span class="o">]</span>
     <span class="k">end</span>
     <span class="kp">nil</span>
<span class="k">end</span>
</code></pre>
</div>


<p>After this you are now good to go, and you can start using cucumber and rspec to "bddify" your app development!!</p>

      
    
    </div>
    <div class="comments">
      <h2><a href="/2010/07/18/setting-up-automation-with-cucumber-rspec-autotest.html#disqus_thread">Click here for Comments</a></h2>
    </div>
    
    <p>     
      <div class="tweet left">
        <a href="http://twitter.com/share" 
          class="twitter-share-button" 
          data-text="Setting up Automation with Cucumber, RSpec, Autotest in RoR 2.3.8" 
          data-count="none" 
          data-via="crowdint" 
          data-related="Roberto Cataneo:with">Tweet</a>
        <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>      
      </div>
    </p>
  </div>
      <div class="author_box">
      <p><b>Author:</b> Roberto Cataneo | roberto.cataneo@crowdint.com</p>
    </div>
</div>


<div class="post prepend-1">
  <h1><a href="/2010/07/11/git-initial-configuration.html">First Things First... Our initial git configuration</a></h1>
  <p class="author">
    <span class="date"><b>Jul 11</b><br />2010</span>
  </p>
  <div class="body prepend-1 append-1">
    <div class="gravatar span-3"><img src="http://www.gravatar.com/avatar/d32b52ec6403614b1adf3e648cbbe584" class="avatar" alt="Avatar" /></div>
    <div id='main'>
    
    
    
    
      
        <p>Whenever a new teammate joins Crowd Interactive, one of the first things they have to do is setup their git environment.</p>

<p>The basic steps we recommend are:</p>

<h2>Let us know who you are</h2>

<p>You can set up your email and name by using the following command:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>git config --global user.name <span class="s2">&quot;YOURNAME&quot;</span>
<span class="nv">$ </span>git config --global user.email <span class="s2">&quot;YOUREMAIL&quot;</span>
</code></pre>
</div>


<h2>Reduce the risk factor</h2>

<p>Well, it has happened to us before. Let's say you did something weird on your_branch and you need to force a push for some weird reason. You check everything looks ok on your branch and you push it.</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>git push --force
+ 013c43a...0759089 master -&gt; master <span class="o">(</span>forced update<span class="o">)</span>
+ 013c43a...0759089 your_branch -&gt; your_branch <span class="o">(</span>forced update<span class="o">)</span>
+ 013c43a...0759089 not_your_branch -&gt; not_your_branch <span class="o">(</span>forced update<span class="o">)</span>
</code></pre>
</div>


<p>Woah, you just force updated 2 more branches than expected and now you've made quite a mess of your repo. Not good, it is bad enough that you are pushing forced updates to the repo, now you're gonna get yelled at.</p>

<p>So, we recommend our rookies to use the following command:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>git config --global push.default current
</code></pre>
</div>


<p>What this does is configure git to push only your current branch, and nothing else. So, in the last example you would've made a smaller mess.</p>

<p>If you want to push a branch that is not the one you're working on, you can do so by specifying the remote and the branch name:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>git push origin your_branch
</code></pre>
</div>


<p>At this point I am very used to push like that, using bash auto completion makes it very easy and it makes me feel clean.</p>

<h2>Add color to your life</h2>

<p>Last but not least, who likes dull colorless console messages?, run this commands and add some color to your git outputs:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>git config --global color.branch auto
<span class="nv">$ </span>git config --global color.diff auto
<span class="nv">$ </span>git config --global color.interactive auto
</code></pre>
</div>


<p>Hope this guide helps you in some way, cheers!</p>

      
    
    </div>
    <div class="comments">
      <h2><a href="/2010/07/11/git-initial-configuration.html#disqus_thread">Click here for Comments</a></h2>
    </div>
    
    <p>     
      <div class="tweet left">
        <a href="http://twitter.com/share" 
          class="twitter-share-button" 
          data-text="First Things First... Our initial git configuration" 
          data-count="none" 
          data-via="crowdint" 
          data-related="David Padilla:with">Tweet</a>
        <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>      
      </div>
    </p>
  </div>
      <div class="author_box">
      <p><b>Author:</b> David Padilla | david@crowdint.com</p>
    </div>
</div>


<div class="pagination prepend-1">
  
    
      <a href="/page11" class="previous">Previous</a>
    
  
  <span class="page_number ">Page: 12 of 12</span>
  
    <span class="next ">Next</span>
  
</div>

<div class="post prepend-1">
  <h1>Recent Posts</h1>
  <ul class="archives">

  <li><span><b>05 Oct 2011</b></span> &raquo; <a href="/2011/10/05/using-rbenv-for-managing-your-rubies.html">Using rbenv to manage your rubies</a></li>

  <li><span><b>27 Sep 2011</b></span> &raquo; <a href="/2011/09/27/better-seo-with-rich-snippets-for-e-commerce.html">Better SEO with Rich Snippets for eCommerce</a></li>

  <li><span><b>05 Sep 2011</b></span> &raquo; <a href="/2011/09/05/ruby-benchmarks.html">Ruby benchmarks</a></li>

  <li><span><b>22 Aug 2011</b></span> &raquo; <a href="/2011/08/22/auto-retry-failed-cucumber-tests.html">Auto Retry Failed Cucumber Tests</a></li>

  <li><span><b>11 Aug 2011</b></span> &raquo; <a href="/2011/08/11/postgresql-in-vagrant.html">How to install Postgresql 8.4 in a Vagrant box</a></li>

  <li><span><b>06 Jul 2011</b></span> &raquo; <a href="/2011/07/06/acceptance-testing-with-steak.html">Acceptance testing with Steak</a></li>

  <li><span><b>27 Jun 2011</b></span> &raquo; <a href="/2011/06/27/rails-3-1-compass-and-blueprint.html">Rails 3.1, Compass and Blueprint</a></li>

  <li><span><b>21 Jun 2011</b></span> &raquo; <a href="/2011/06/21/vagrant.html">Vagrant to manage multiple dev environments</a></li>

  <li><span><b>13 Jun 2011</b></span> &raquo; <a href="/2011/06/13/add-validations-to-your-ruby-classes.html">Add Validations to your Ruby classes</a></li>

  <li><span><b>24 May 2011</b></span> &raquo; <a href="/2011/05/24/railsconf-2011.html">Railsconf 2011</a></li>

  <li><span><b>02 May 2011</b></span> &raquo; <a href="/2011/05/02/How-to-override-destroy-with-callbacks.html">How to override destroy method keeping the callbacks</a></li>

  <li><span><b>25 Apr 2011</b></span> &raquo; <a href="/2011/04/25/one-file-web-page-with-rack.html">One File Web Page with Rack</a></li>

  <li><span><b>13 Apr 2011</b></span> &raquo; <a href="/2011/04/13/turn-jquery-effects-off-for-testing.html">Turn jQuery effects off for testing</a></li>

  <li><span><b>06 Apr 2011</b></span> &raquo; <a href="/2011/04/06/sinatra-haml-compass-blueprint.html">How to Sinatra + Haml + Compass(SCSS) + Blueprint</a></li>

  <li><span><b>31 Mar 2011</b></span> &raquo; <a href="/2011/03/31/make-your-sinatra-more-restful.html">Trying to make your Sinatra more RESTful?</a></li>

  <li><span><b>24 Mar 2011</b></span> &raquo; <a href="/2011/03/24/how-to-write-good-css.html">How to write good CSS</a></li>

  <li><span><b>18 Mar 2011</b></span> &raquo; <a href="/2011/03/18/what-is-sinatra.html">What is Sinatra?</a></li>

  <li><span><b>14 Mar 2011</b></span> &raquo; <a href="/2011/03/14/Sinatra-the-green-way.html">Sinatra, the green way</a></li>

  <li><span><b>08 Mar 2011</b></span> &raquo; <a href="/2011/03/08/as-monty-python-said-and-now-for-something-completly-different.html">As Monty Python said... "And Now For Something Completly Different"</a></li>

  <li><span><b>02 Mar 2011</b></span> &raquo; <a href="/2011/03/02/how-to-make-your-models-look-lean.html">How to make your Models look lean</a></li>

  </ul>
</div>

<div class="post prepend-1">
	<div class="left">
	  <!-- http://www.facebook.com/pages/Crowd-Interactive/63293958828  -->
    <iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FCrowd-Interactive%2F63293958828" scrolling="no" frameborder="0" style="height: 62px; width: 100%" allowTransparency="true"></iframe>
  </div>  
</div>

        </div>
        <div class="right-side span-5 last prepend-1">
          <h1><a href="/">Blog Home</a></h1>
<h1>About Crowd Interactive</h1>
<p class="append-1 about">Crowd Interactive is a Ruby on Rails
consultancy firm powered by a team of enthusiast engineers that love
programming.We turn your ideas into web applications...<br/><a href="/about.html">Read More...</a></p>
<h1>Our Favorite Sites</h1>
<ul>
  <li><a href="http://www.crowdint.com">Crowd Interactive</a></li>
  <li><a href="http://www.magmarails.com">MagmaRails</a></li>
  <li><a href="http://rubyonrails.org">Ruby on Rails</a></li>
  <li><a href="http://ruby-lang.org">Ruby-Lang</a></li>
  <li><a href="http://github.com/crowdint">Github</a></li>
</ul>
<h1>Stuff we've built</h1>
<ul>
  <li><a href="http://www.modcloth.com">ModCloth</a></li>
  <li><a href="http://www.creativeallies.com">Creative Allies</a></li>
  <li><a href="http://www.nameframe.com">Nameframe</a></li>
  <li><a href="http://github.com/crowdint/rails3-jquery-autocomplete">Rails3-jQuery-Autocomplete</a></li>
  <li><a href="http://github.com/crowdint/rankstar">rankstar</a></li>
  <li><a href="http://github.com/crowdint/blog.crowdint.com">This site's source code</a></li>
</ul>
<h1>Older Posts</h1>
<ul>
  <li><a href="/archive.html">Archive</a></li>
</ul>
	  <iframe src="http://www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FCrowd-Interactive%2F63293958828&amp;width=190&amp;colorscheme=light&amp;show_faces=true&amp;border_color&amp;stream=false&amp;header=false&amp;height=380px" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:190px; height:380px;" allowTransparency="true"></iframe>
Site Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a>

        </div>
      </div>
      <div class="round-bottom span-24">
        &nbsp;
      </div>
    </div>

  </div>
  <div id="footer">
    <div class="copyContent" >
      <p class="copy">Copyright &copy; 2010, Crowd Interactive. All rights reserved.</p>
    </div>
  </div>
  <script type="text/javascript">
  var disqus_shortname = 'crowdinttech';
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.src = 'http://disqus.com/forums/crowdinttech/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
  </script>
</body>
</html>
